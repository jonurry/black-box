"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){function i(e){e.animateRays=e.view.renderAndAnimateAllRays(e.model.turns,e.model.gridSize)}function t(e,i){var t=this;this.animateRays=!0,this.model=e,this.view=i,this.view.bind("animateRays",function(){t.onClickAnimateRays()}),this.view.bind("newGame",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;t.onClickNewGame(e,i)}),this.view.bind("scoreGame",function(){return t.onClickScoreGame()}),this.view.bind("shootRay",function(e){return t.onClickShootRay(e)})}t.prototype.onClickAnimateRays=function(){i(this)},t.prototype.onClickNewGame=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;this.model.newGame(e,i),this.renderViews()},t.prototype.onClickScoreGame=function(){var e=this.model.scoreGame();return this.renderViews(),this.animateRays&&setTimeout(i,3e3,this),e},t.prototype.onClickShootRay=function(e){var i=this.model.shootRay(e);this.view.renderShot(i,this.model.gridSize,this.model.gameHasFinished,this.model.allMarblesPlaced())},t.prototype.renderViews=function(){var e=this.model,i=JSON.parse(JSON.stringify(e.grid)),t=JSON.parse(JSON.stringify(e.guesses)),o=JSON.parse(JSON.stringify(e.marbles));this.view.renderGridConsole(i),this.view.renderGrid(i,e.gridSize,e.gameHasFinished,e.allMarblesPlaced(),t,o)},"function"==typeof define&&define.amd||("object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports.BlackBoxController=t:(e=e||{},e.BLACKBOX=e.BLACKBOX||{},e.BLACKBOX.Controller=t))}(void 0);